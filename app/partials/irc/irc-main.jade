h1.page-header
    | {{ ircTitle }}
    .btn-group.pull-right(ng-show="irc.connected")
        button.btn.btn-primary.btn-sm(ng-click="disconnect()") Disconnect


form.form-horizontal(ng-hide="irc.connected")
    .form-group
        label.col-sm-3.control-label Nickname
        .col-sm-9
            input.form-control(ng-model="nickname", required)
    .form-group
        label.col-sm-3.control-label Password
        .col-sm-9
            input.form-control(type='password', ng-model="password", placeholder="Required if nickname is registered")
    .form-group
        .col-sm-12
            .btn-group.pull-right
                button.btn.btn-primary.btn-sm(ng-click="connect()") Connect

form#wrapper(ng-show="irc.connected")
    #upper-panel
        #chat(scroll-glue, ng-model="glued", wheel-speed="50", refresh-on-change="chatLog")
            table#irc-messages(ng-hide="irc.chatLog.length == 0")
                tr.irc-row(ng-repeat="msg in irc.chatLog", ng-class="{'bg-info': msg.highlight, 'bg-success': msg.privateMsg }")
                    td.irc-from
                        strong(ng-show="msg.selfMessage") {{ msg.from }}
                        span(ng-show="!msg.selfMessage") {{ msg.from }}
                        | {{ " " + msg.time.format('HH:MM') }}

                    td.irc-message(ng-class="{'irc-action': msg.action, 'text-muted': msg.muted }")
                        | {{ msg.message }}

        #users
            table#irc-users
                tr.irc-user-row(ng-repeat="name in irc.userList track by $index")
                    td.nickname-td {{ name }}

    #bottom-panel
        .input-group
            input.form-control(type='text', ng-model="message", placeholder='Say something...')
            span.input-group-btn
                button.btn.btn-primary(type='submit', ng-click="sendMessage()", ng-disabled="irc.connected == false || irc.canChat == false") Send
